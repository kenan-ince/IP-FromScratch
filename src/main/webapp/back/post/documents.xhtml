<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:h="jakarta.faces.html"
				xmlns:ui="jakarta.faces.facelets">

	<h4 class="mt-3 mb-0">Current Files</h4>
	<hr class="mt-0" />
	<ul class="list-group list-group-flush">
		<ui:repeat value="#{pb.documents}" var="doc">
			<li class="list-group-item">
				<h:panelGroup layout="block" rendered="#{doc.type.contains('image')}">
					<h:graphicImage width="100" value="/document/#{doc.name}" />
				</h:panelGroup>
				<h:panelGroup layout="block" rendered="#{doc.type.contains('application')}">
					<a href="#{request.contextPath}/document/#{doc.name}">#{doc.title}</a>
				</h:panelGroup>
			</li>
		</ui:repeat>
	</ul>


	<h4 class="mt-3 mb-0">Upload New File</h4>
	<hr class="mt-0"/>
    <h:form enctype="multipart/form-data">
		<div class="mb-3">
			<label for="exampleFormControlInput1" class="form-label">File Title</label>
			<h:inputText value="#{pb.title}" styleClass="form-control" />
		</div>
		<div class="mb-3">
			<label for="exampleFormControlInput1" class="form-label">File to upload</label>
			<h:inputFile value="#{pb.doc}" styleClass="form-control" />
		</div>
		<div class="mb-3">
			<h:commandButton styleClass="btn btn-primary" action="#{pb.uploadFile()}" value="Upload" />
		</div>
	</h:form>
</ui:composition>
