<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:h="jakarta.faces.html"
				xmlns:ui="jakarta.faces.facelets">
	<h4 class="mt-3 mb-0">Post List</h4>
	<hr class="mt-0" />
	<h:form>
		<table class="table table-hover">
			<thead>
				<tr>
					<th>ID</th>
					<th>Categories</th>
					<th>Title</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				<ui:repeat value="#{pb.list}" var="e">
					<tr>
						<td>#{e.id}</td>
						<td>
							<ul class="list-group list-group-flush">
								<ui:repeat value="#{e.categories}" var="c">
									<li class="list-group-item m-0 p-0">#{c.title}</li>
								</ui:repeat>
							</ul>
						</td>
						<td>
							<h:commandLink action="#{pb.setEntity(e)}" value="#{e.title}" />
						</td>
						<td>
							<div class="btn-group">
								<h:commandLink styleClass="btn btn-danger btn-sm" action="#{pb.delete(e)}" value="Delete" />
								<h:commandLink styleClass="btn btn-primary btn-sm" action="#{pb.setRight(e, 'documents')}" value="Files" />
							</div>
						</td>
					</tr>
				</ui:repeat>
			</tbody>
		</table>
		<h:panelGroup styleClass="row" layout="block" rendered="#{pb.pageCount>1}">
			<div class="container">
				<h:form>
					<div class="btn-group">
						<h:commandButton action="#{pb.previous()}" styleClass="btn btn-primary" value="&lsaquo;" />
						<h:commandButton action="#{pb.next()}" styleClass="btn btn-primary float-end" value="&rsaquo;" />
					</div>
				</h:form>
			</div>
		</h:panelGroup>
	</h:form>
</ui:composition>
